@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-slate-900 text-white font-sans overflow-x-hidden select-none;
    font-family: 'Rajdhani', sans-serif;
  }
}

@layer utilities {
  .glass-panel {
    @apply bg-slate-900/90 backdrop-blur-md border border-white/10;
  }

  /* Animations */
  .animate-shield-pulse {
    animation: shieldPulse 1.5s infinite;
  }

  .animate-blast {
    animation: blastEffect 0.3s ease-out forwards;
  }

  .animate-shake {
    animation: tileShake 0.4s ease-in-out;
  }

  .animate-float-down {
    animation: floatDown 8s linear forwards;
  }
}


@keyframes shieldPulse {

  0%,
  100% {
    box-shadow: inset 0 0 10px #60a5fa, 0 0 5px #60a5fa;
    border-color: #60a5fa;
  }

  50% {
    box-shadow: inset 0 0 30px #3b82f6, 0 0 15px #3b82f6;
    border-color: #93c5fd;
  }
}

:root {
  --grid-cols: 12;
  --grid-rows: 8;
  /* Slightly smaller tiles so board fits comfortably between HUD and controls */
  --tile-size: min(4.5vw, 7vh);
}

.landscape-lock-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: #0f172a;
  z-index: 9999;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: white;
  text-align: center;
  padding: 2rem;
}

@media (orientation: portrait) and (max-width: 1024px) {
  .landscape-lock-overlay {
    display: flex;
  }
}

.game-grid {
  display: grid;
  grid-template-columns: repeat(var(--grid-cols), 1fr);
  grid-template-rows: repeat(var(--grid-rows), 1fr);
  gap: 4px;
  width: min-content;
  max-width: 95vw;
  /* Reduce max height so grid never collides with HUD/controls */
  max-height: 55vh;
  margin: auto;
}

.tile {
  width: var(--tile-size);
  height: var(--tile-size);
  aspect-ratio: 1 / 1;
}

@media (max-width: 768px) {
  :root {
    /* Smaller tiles on mobile so full board remains visible with HUD + controls */
    --tile-size: min(6vw, 7vh);
  }

  .glass-panel {
    padding: 0.5rem 1rem !important;
  }

  .hud-stat-label {
    font-size: 0.75rem;
  }

  .hud-stat-value {
    font-size: 1rem;
  }
}

@keyframes blastEffect {
  0% {
    transform: scale(1);
    filter: brightness(1) hue-rotate(0deg);
  }

  50% {
    transform: scale(1.3);
    filter: brightness(3) hue-rotate(90deg);
  }

  100% {
    transform: scale(1);
    filter: brightness(1) hue-rotate(0deg);
  }
}

@keyframes tileShake {
  0% {
    transform: translate(0, 0) rotate(0deg);
  }

  25% {
    transform: translate(-3px, 3px) rotate(-3deg);
  }

  50% {
    transform: translate(3px, -3px) rotate(3deg);
  }

  75% {
    transform: translate(-3px, -3px) rotate(3deg);
  }

  100% {
    transform: translate(0, 0) rotate(0deg);
  }
}

@keyframes boardShake {

  0%,
  100% {
    transform: translate(0, 0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translate(-10px, -5px) rotate(-1deg);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translate(10px, 5px) rotate(1deg);
  }
}

.animate-board-shake {
  animation: boardShake 0.5s ease-in-out;
}

@keyframes floatDown {
  0% {
    transform: translateY(-50px) rotate(0deg);
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  90% {
    opacity: 1;
  }

  100% {
    transform: translateY(110vh) rotate(360deg);
    opacity: 0;
  }
}

@keyframes slideInRight {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }

  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in-right {
  animation: slideInRight 0.3s ease-out forwards;
}

@keyframes bounceIn {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }

  50% {
    transform: scale(1.05);
  }

  70% {
    transform: scale(0.9);
  }

  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-bounce-in {
  animation: bounceIn 0.5s ease-out forwards;
}

@keyframes spinSlow {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spinSlow 3s linear infinite;
}